---
title: Развертывание сервера Minecraft на виртуальной машине
source: Cloud.ru Evolution Tutorials
url: https://cloud.ru/docs/tutorials-evolution/list/topics/free-tier-vm__minecraft
topic: compute
---
# Развертывание сервера Minecraft на виртуальной машине

С помощью этого руководства вы развернете сервер Minecraft (Java Edition) актуальной версии на виртуальной машине.

Вы будете использовать следующие сервисы:

- [Виртуальная машина free tier](https://cloud.ru/docs/virtual-machines/ug/topics/overview__free-tier)Виртуальная машина free tier — сервис, в рамках которого предоставляется бесплатная виртуальная машина с готовой конфигурацией.
- [Публичный IP-адрес](https://cloud.ru/docs/public-ip/ug/topics/guides__allocate-ip)Публичный IP-адрес для доступа к серверу Minecraft через интернет.

[Виртуальная машина free tier](https://cloud.ru/docs/virtual-machines/ug/topics/overview__free-tier)Виртуальная машина free tier — сервис, в рамках которого предоставляется бесплатная виртуальная машина с готовой конфигурацией.

[Публичный IP-адрес](https://cloud.ru/docs/public-ip/ug/topics/guides__allocate-ip)Публичный IP-адрес для доступа к серверу Minecraft через интернет.

Шаги:

1. [Создайте виртуальную машину](https://cloud.ru/docs/tutorials-evolution/list/topics/free-tier-vm__minecraft)Создайте виртуальную машину.
2. [Настройте группу безопасности](https://cloud.ru/docs/tutorials-evolution/list/topics/free-tier-vm__minecraft)Настройте группу безопасности.
3. [Установите сервер Minecraft](https://cloud.ru/docs/tutorials-evolution/list/topics/free-tier-vm__minecraft)Установите сервер Minecraft.
4. [Запустите сервер Minecraft](https://cloud.ru/docs/tutorials-evolution/list/topics/free-tier-vm__minecraft)Запустите сервер Minecraft.

[Создайте виртуальную машину](https://cloud.ru/docs/tutorials-evolution/list/topics/free-tier-vm__minecraft)Создайте виртуальную машину.

[Настройте группу безопасности](https://cloud.ru/docs/tutorials-evolution/list/topics/free-tier-vm__minecraft)Настройте группу безопасности.

[Установите сервер Minecraft](https://cloud.ru/docs/tutorials-evolution/list/topics/free-tier-vm__minecraft)Установите сервер Minecraft.

[Запустите сервер Minecraft](https://cloud.ru/docs/tutorials-evolution/list/topics/free-tier-vm__minecraft)Запустите сервер Minecraft.

## Перед началом работы

[Зарегистрируйтесь в личном кабинете Cloud.ru](https://cloud.ru/docs/console/ug/topics/guides__registration)Зарегистрируйтесь в личном кабинете Cloud.ru.

Если вы уже зарегистрированы, [войдите под своей учетной записью](https://cloud.ru/docs/console/ug/topics/guides__auth)войдите под своей учетной записью.

## 1. Создайте виртуальную машину

[Создайте бесплатную виртуальную машину](https://cloud.ru/docs/virtual-machines/ug/topics/guides__create-free-tier-vm)Создайте бесплатную виртуальную машину со следующими параметрами:

1. В поле Название укажите название виртуальной машины, например minecraft.
2. На вкладке Публичные выберите образ Ubuntu 22.04.
3. Назначьте публичный IP-адрес виртуальной машине — оставьте включенной опцию Подключить публичный IP. Для виртуальной машины будет арендован и назначен [прямой публичный IP](https://cloud.ru/docs/public-ip/ug/topics/concepts__ip-types)прямой публичный IP.
4. В поле Логин укажите логин пользователя виртуальной машины, например user1.
5. Выберите метод аутентификации — пароль.
6. В поле Имя хоста укажите уникальное имя устройства, по которому можно идентифицировать виртуальную машину в сети, например minecraft.

В поле Название укажите название виртуальной машины, например minecraft.

На вкладке Публичные выберите образ Ubuntu 22.04.

Назначьте публичный IP-адрес виртуальной машине — оставьте включенной опцию Подключить публичный IP. Для виртуальной машины будет арендован и назначен [прямой публичный IP](https://cloud.ru/docs/public-ip/ug/topics/concepts__ip-types)прямой публичный IP.

В поле Логин укажите логин пользователя виртуальной машины, например user1.

Выберите метод аутентификации — пароль.

В поле Имя хоста укажите уникальное имя устройства, по которому можно идентифицировать виртуальную машину в сети, например minecraft.

Убедитесь, что в личном кабинете на странице сервиса «Виртуальные машины»:

- отображается виртуальная машина minecraft;
- статус виртуальной машины — «Запущена»;
- виртуальной машине назначен публичный IP-адрес.

отображается виртуальная машина minecraft;

статус виртуальной машины — «Запущена»;

виртуальной машине назначен публичный IP-адрес.

## 2. Настройте группу безопасности

Группы безопасности в облаке Evolution позволяют контролировать входящий и исходящий трафик для создаваемых ресурсов.

Вы настроите правила фильтрации трафика — разрешите весь входящий трафик по порту 25565 (HTTPS) и весь исходящий трафик.
[Создайте новую группу безопасности](https://cloud.ru/docs/security-groups/ug/topics/guides__create-sg)Создайте новую группу безопасности со следующими параметрами:

1. Выберите Зону доступности, в которой необходимо разместить группу безопасности. Укажите ту же зону доступности, что выбрана для виртуальной машины minecraft.
2. Укажите Название группы безопасности, например minecraft.
3. Добавьте правила входящего и исходящего трафика.

Правила входящего трафика:

Протокол — TCP
Порт — 25565
Тип источника — IP-адрес
Источник — 0.0.0.0/0

Правила исходящего трафика:

Протокол — любой
Порт — оставьте пустым
Тип адресата — IP-адрес
Адресат — 0.0.0.0/0
4. [Назначьте созданную группу безопасности виртуальной машине](https://cloud.ru/docs/virtual-machines/ug/topics/guides__add-to-sg)Назначьте созданную группу безопасности виртуальной машине minecraft.
Если в группе безопасности присутствуют другие виртуальные машины, [исключите их из группы](https://cloud.ru/docs/virtual-machines/ug/topics/guides__delete-from-sg)исключите их из группы.

Выберите Зону доступности, в которой необходимо разместить группу безопасности. Укажите ту же зону доступности, что выбрана для виртуальной машины minecraft.

Укажите Название группы безопасности, например minecraft.

Добавьте правила входящего и исходящего трафика.

1. Правила входящего трафика:

Протокол — TCP
Порт — 25565
Тип источника — IP-адрес
Источник — 0.0.0.0/0
2. Правила исходящего трафика:

Протокол — любой
Порт — оставьте пустым
Тип адресата — IP-адрес
Адресат — 0.0.0.0/0

Правила входящего трафика:

- Протокол — TCP
- Порт — 25565
- Тип источника — IP-адрес
- Источник — 0.0.0.0/0

Протокол — TCP

Порт — 25565

Тип источника — IP-адрес

Источник — 0.0.0.0/0

Правила исходящего трафика:

- Протокол — любой
- Порт — оставьте пустым
- Тип адресата — IP-адрес
- Адресат — 0.0.0.0/0

Протокол — любой

Порт — оставьте пустым

Тип адресата — IP-адрес

Адресат — 0.0.0.0/0

[Назначьте созданную группу безопасности виртуальной машине](https://cloud.ru/docs/virtual-machines/ug/topics/guides__add-to-sg)Назначьте созданную группу безопасности виртуальной машине minecraft.
Если в группе безопасности присутствуют другие виртуальные машины, [исключите их из группы](https://cloud.ru/docs/virtual-machines/ug/topics/guides__delete-from-sg)исключите их из группы.

Убедитесь, что в личном кабинете на странице сервиса «Виртуальные машины», в разделе Сетевые параметры отображается группа безопасности minecraft.

## 3. Установите сервер Minecraft на виртуальную машину

Для настройки виртуальной машины вы будете использовать серийную консоль в браузере.

1. [Подключитесь к виртуальной машине](https://cloud.ru/docs/virtual-machines/ug/topics/guides__console-serial)Подключитесь к виртуальной машине minecraft через серийную консоль.
2. Перед установкой необходимого ПО обновите списки актуальных пакетов в вашей системе:
sudo apt update
3. Установите открытую реализацию JDK — Open Java Development Kit (OpenJDK) версии 21:
sudo apt install openjdk-21-jdk
4. Создайте отдельную директорию для сервера Minecraft.
Например, директорию minecraft в домашнем каталоге вашего пользователя:
cd ~
mkdir minecraft
5. Перейдите в созданную директорию:
cd minecraft
6. Перейдите на сайт [Minecraft](https://www.minecraft.net/en-us/download/server)Minecraft и скопируйте ссылку на загрузку JAR-файла.
7. Для загрузки файлов в Ubuntu используется команда wget.
Установите wget, если не делали этого ранее:
sudo apt install wget
8. Скачайте актуальный дистрибутив в текущую директорию с помощью wget:
wget https://piston-data.mojang.com/v1/objects/4707d00eb834b446575d89a61a11b5d548d8c001/server.jar
9. Убедитесь, что файл загружен в директорию:
ls -l

[Подключитесь к виртуальной машине](https://cloud.ru/docs/virtual-machines/ug/topics/guides__console-serial)Подключитесь к виртуальной машине minecraft через серийную консоль.

Перед установкой необходимого ПО обновите списки актуальных пакетов в вашей системе:

```bash
sudo
apt
update
```

Установите открытую реализацию JDK — Open Java Development Kit (OpenJDK) версии 21:

```bash
sudo
apt
install
openjdk-21-jdk
```

Создайте отдельную директорию для сервера Minecraft.

Например, директорию minecraft в домашнем каталоге вашего пользователя:

```bash
cd
~
mkdir
minecraft
```

Перейдите в созданную директорию:

```bash
cd
minecraft
```

Перейдите на сайт [Minecraft](https://www.minecraft.net/en-us/download/server)Minecraft и скопируйте ссылку на загрузку JAR-файла.

Для загрузки файлов в Ubuntu используется команда wget.
Установите wget, если не делали этого ранее:

```bash
sudo
apt
install
wget
```

Скачайте актуальный дистрибутив в текущую директорию с помощью wget:

```bash
wget
https://piston-data.mojang.com/v1/objects/4707d00eb834b446575d89a61a11b5d548d8c001/server.jar
```

Убедитесь, что файл загружен в директорию:

```bash
ls
-l
```

## 4. Запустите сервер Minecraft

1. Создайте в текущей директории файл eula.txt с параметром eula=true, выполнив команды.
cat << EOF > eula.txteula=trueEOF

Если файл не будет создан, запуск сервера завершится ошибкой.
2. Выполните первый старт своего сервера Minecraft:
java -Xmx1024M -Xms1024M -jar server.jar nogui

Файл server.jar — это исполняемый файл в Java-формате, который содержит все необходимые компоненты для запуска сервера Minecraft.
3. Откройте файл server.properties c помощью текстового редактора nano.
nano server.properties
4. В списке параметров найдите online-mode.
Этот параметр отвечает за проверку сервером Minecraft подлинности учетных записей игроков с использованием официальных серверов Mojang.
Чтобы ваш сервер разрешал доступ игрокам без такой проверки, измените значение параметра online-mode на false.
5. Закройте файл server.properties с сохранением изменений (Ctrl + X, далее Y и Enter).
6. Остановите сервер и запустите его заново, чтобы применились настройки.
stop

java -Xmx1024M -Xms1024M -jar server.jar nogui

Создайте в текущей директории файл eula.txt с параметром eula=true, выполнив команды.

```bash
cat
<<
EOF
>
eula.txt
eula=true
EOF
```

Если файл не будет создан, запуск сервера завершится ошибкой.

Выполните первый старт своего сервера Minecraft:

```bash
java
-Xmx1024M
-Xms1024M
-jar
server.jar nogui
```

Файл server.jar — это исполняемый файл в Java-формате, который содержит все необходимые компоненты для запуска сервера Minecraft.

Откройте файл server.properties c помощью текстового редактора nano.

```bash
nano
server.properties
```

В списке параметров найдите online-mode.

Этот параметр отвечает за проверку сервером Minecraft подлинности учетных записей игроков с использованием официальных серверов Mojang.
Чтобы ваш сервер разрешал доступ игрокам без такой проверки, измените значение параметра online-mode на false.

Закройте файл server.properties с сохранением изменений (Ctrl + X, далее Y и Enter).

Остановите сервер и запустите его заново, чтобы применились настройки.

```bash
stop
```

```bash
java
-Xmx1024M
-Xms1024M
-jar
server.jar nogui
```

## 5. Проверьте работу сервера

1. В клиенте Minecraft добавьте ваш сервер в список серверов, нажав Добавить.
Укажите произвольное название, а в поле Адрес сервера введите публичный IP виртуальной машины minecraft.
2. В списке серверов выберите добавленный сервер и нажмите Подключиться.

В клиенте Minecraft добавьте ваш сервер в список серверов, нажав Добавить.

Укажите произвольное название, а в поле Адрес сервера введите публичный IP виртуальной машины minecraft.

В списке серверов выберите добавленный сервер и нажмите Подключиться.

## Результат

Вы развернули сервер Minecraft на виртуальной машине.
